#!/bin/bash
# Connect Seagate Backup Plus Drive
# Mount point: /run/media/humitos/Seagate Backup Plus Drive

# Connect Xiaomi MI8

jmtpfs xiaomi-mi8

# Remove thumbnails which size it's crazy!
# rm -rf 'nexus/interno compartido/DCIM/.thumbnails'

# BE CAREFUL with ``--remove-source-files`` since it removes the files
# transfered from source into destination
for x in Pictures DCIM bluetooth Download Telegram WhatsApp Slack FalconPro3 MIUI;
do
    rsync -rav \
          --inplace \
          --size-only \
          --exclude .thumbnails \
          --remove-source-files \
          xiaomi-mi8/Internal\ shared\ storage/$x/ \
          '/run/media/humitos/Seagate Backup Plus Drive/xiaomi-mi8/'$x;
done

fusermount -u xiaomi-mi8
